<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="WBCO extract">
    <meta name="author" content="Eric Sherman">
    <link rel="icon" href="../../favicon.ico">
    

    <title>WBCO prototype</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <!-- <link href="css/starter-template.css" rel="stylesheet"> -->
    <link rel="stylesheet" type="text/css" href="css/own_style.css">
    <link rel="stylesheet" href="css/leaflet-routing-machine.css" />
    <link rel="stylesheet" href="css/Control.Geocoder.css" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
    <!-- Scripts -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>        
    <script src="js/leaflet-routing-machine.js"></script>
	<script src="js/leaflet-hash.js"></script>
	<script src="js/Autolinker.min.js"></script>
    <script src="js/Control.Geocoder.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script type="text/javascript" src="//api.tiles.mapbox.com/mapbox.js/plugins/turf/v2.0.0/turf.min.js"></script>
    
   
    

    <!-- Bootstrap Table -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.0/bootstrap-table.min.css">
    <!--<script src="dist/extensions/export/bootstrap-table-export.js"></script> -->
  </head>

  <body>

    <!-- <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Project name</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
    <!--  </div>
    </nav> -->
<script type="text/javascript">//<![CDATA[

$(function () {
	var $table = $('#table');
	$('#toolbar').find('select').change(function () {
    $table.bootstrapTable('refreshOptions', {
      exportDataType: $(this).val()
    });
  });
});
//]]> 

</script>

    <div class="container">

      <div class="starter-template">
        <h1>Campaign Planner</h1>
        <p class="lead">Use this tool to quickly plan routes and extract business listings data.<br> <!-- <a href="/data/data1/" <button type="button" class="btn btn-default">Download Data</button></a> --></p>
      </div>
    <div class="container">
    <a href="#demo" class="btn btn-info" data-toggle="collapse">Search Parameters</a>
    <div id="demo" class="collapse">
        <div class="row">
    <div class="col-md-12 col-sm-6 col-xs-12">
      <div class="panel panel-default">
        <div class="panel-heading clearfix">
          <i class="icon-calendar"></i>
          <h3 class="panel-title">Inputs</h3>
        </div>
        <div class="panel-body">
           <label class="col-md-2 control-label">Radius</label>
          <label class="radio-inline">
            <input name="optionsRadios" id="optionsRadios1" type="radio" checked="" value="option1"> 10 miles
          </label>
          <label class="radio-inline">
            <input name="optionsRadios" id="optionsRadios2" type="radio" value="option2">20 miles
          </label>
          <label class="radio-inline">
            <input name="optionsRadios" disabled="" id="optionsRadios3" type="radio" value="option2">50 miles
          </label>
        </div>
        <div class="panel-body">
          <form class="form-horizontal row-border" action="#">
            <div class="form-group">
              <label class="col-md-2 control-label">Business Category</label>
              <div class="col-md-10">
                <input name="placeholder" class="form-control" type="text" placeholder="Auto Repair">
              </div>
            </div>
            
            <div class="form-group">
              <label class="col-md-2 control-label">Read only field</label>
              <div class="col-md-10">
                <input name="readonly" class="form-control" type="text" readonly="" value="info may go here">
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-2 control-label">Help text</label>
              <div class="col-md-10">
                <input name="regular" class="form-control" type="text">
                <span class="help-block">See Factual API documentation for further category ID info.</span>
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-2 control-label">Endpoint</label>
              <div class="col-md-10">
                <input name="regular" class="form-control" type="text" value="http://api.v3.factual.com/t/places">
              </div>
            </div>
            
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
      </div>
    </div>
 
    <div class="container">
    <div id="toolbar">
      <select class="form-control">
        <option value="">Export Basic</option>
        <option value="all">Export All</option>
        <option value="selected">Export Selected</option>
      </select>
    </div>


    <div class="container">
    <div id="map"></div>
    </div>
    <table id="table"
           data-toggle="table"
           data-toolbar="#toolbar"
           data-show-export="true"
           data-show-toggle="true"
           data-show-columns="true"
           data-show-pagination-switch="true"
           data-pagination="true"
           data-id-field="id"
           data-page-list="[10, 25, 50, 100, ALL]"
           
           data-url= "/data/data1/document.json"
           >
        <thead>
        <tr>
            
            <th data-field="state" data-checkbox="true"></th>
            <th data-field="name">Name</th>
            <th data-field="address">Address</th>
            <th data-field="email">Email</th>
            <th data-field="tel">Phone</th>
           <!--<th data-field="stargazers_count">Stars</th>
            <th data-field="forks_count">Forks</th>
            <th data-field="description">Description</th>-->
        </tr>
        </thead>
    </table>
    </div>

    

<!-- /.container -->
<script src="data/exp_clevlandfact1.js"></script>

<script>
            var map = L.map('map', {
                zoomControl:true, maxZoom:19
            }).fitBounds([[41.082208455,-82.1033158688],[41.7934502486,-81.0530349416]]);
            var hash = new L.Hash(map);
            var additional_attrib = 'created w. <a href="https://github.com/geolicious/qgis2leaf" target ="_blank">qgis2leaf</a> by <a href="http://www.geolicious.de" target ="_blank">Geolicious</a> & contributors<br>';
            var feature_group = new L.featureGroup([]);
            var raster_group = new L.LayerGroup([]);
            var basemap_0 = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { 
                attribution: additional_attrib + '&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors,<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
            });	
            basemap_0.addTo(map);	
            var layerOrder=new Array();
            function pop_clevlandfact1(feature, layer) {					
                var popupContent = '<table><tr><th scope="row">address</th><td>' + Autolinker.link(String(feature.properties['address'])) + '</td></tr><tr><th scope="row">category_ids__001</th><td>' + Autolinker.link(String(feature.properties['category_ids__001'])) + '</td></tr><tr><th scope="row">category_ids__002</th><td>' + Autolinker.link(String(feature.properties['category_ids__002'])) + '</td></tr><tr><th scope="row">category_ids__003</th><td>' + Autolinker.link(String(feature.properties['category_ids__003'])) + '</td></tr><tr><th scope="row">category_ids__</th><td>' + Autolinker.link(String(feature.properties['category_ids__'])) + '</td></tr><tr><th scope="row">category_labels__001</th><td>' + Autolinker.link(String(feature.properties['category_labels__001'])) + '</td></tr><tr><th scope="row">category_labels__002</th><td>' + Autolinker.link(String(feature.properties['category_labels__002'])) + '</td></tr><tr><th scope="row">category_labels__003</th><td>' + Autolinker.link(String(feature.properties['category_labels__003'])) + '</td></tr><tr><th scope="row">email</th><td>' + Autolinker.link(String(feature.properties['email'])) + '</td></tr><tr><th scope="row">locality</th><td>' + Autolinker.link(String(feature.properties['locality'])) + '</td></tr><tr><th scope="row">neighborhood__001</th><td>' + Autolinker.link(String(feature.properties['neighborhood__001'])) + '</td></tr><tr><th scope="row">name</th><td>' + Autolinker.link(String(feature.properties['name'])) + '</td></tr><tr><th scope="row">neighborhood__</th><td>' + Autolinker.link(String(feature.properties['neighborhood__'])) + '</td></tr><tr><th scope="row">postcode</th><td>' + Autolinker.link(String(feature.properties['postcode'])) + '</td></tr><tr><th scope="row">region</th><td>' + Autolinker.link(String(feature.properties['region'])) + '</td></tr><tr><th scope="row">tel</th><td>' + Autolinker.link(String(feature.properties['tel'])) + '</td></tr><tr><th scope="row">website</th><td>' + Autolinker.link(String(feature.properties['website'])) + '</td></tr><tr><th scope="row">distance</th><td>' + Autolinker.link(String(feature.properties['distance'])) + '</td></tr></table>';
                layer.bindPopup(popupContent);
            }

            var exp_clevlandfact1JSON = new L.geoJson(exp_clevlandfact1,{
                onEachFeature: pop_clevlandfact1,
                pointToLayer: function (feature, latlng) {  
                    return L.circleMarker(latlng, {
                        radius: 4.0,
                        fillColor: '#94b249',
                        color: '#000000',
                        weight: 1,
                        opacity: 1.0,
                        fillOpacity: 1.0
                    })
                }
            });
            //add comment sign to hide this layer on the map in the initial view.
            feature_group.addLayer(exp_clevlandfact1JSON);

            feature_group.addTo(map);
            var title = new L.Control();
            title.onAdd = function (map) {
                this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
                this.update();
                return this._div;
            };
            title.update = function () {
                this._div.innerHTML = '<h2>WBCO prototype</h2>Factual API Data Extract<br> '
            };
            title.addTo(map);


         L.Routing.control({
          waypoints: [
            L.latLng(41.881832, -87.623177),
            L.latLng(41.505493, -81.681290)
          ],
          geocoder: L.Control.Geocoder.nominatim()
        }).addTo(map);

        //L.Routing.Formatter(units: 'imperial');

        function createButton(label, container) {
            var btn = L.DomUtil.create('button', '', container);
            btn.setAttribute('type', 'button');
            btn.innerHTML = label;
            return btn;
        }


        var baseMaps = {
            'OSM Standard': basemap_0
        };
            L.control.layers(baseMaps,{"clevlandfact1": exp_clevlandfact1JSON},{collapsed:false}).addTo(map);
            L.control.scale({options: {position: 'bottomleft',maxWidth: 100,metric: true,imperial: false,updateWhenIdle: false}}).addTo(map);
            var circle = L.circleMarker([41.505493, -81.681290], {radius: 75}).addTo(map);
        </script>
        
        <script>
        var test = "data/exp_clevlandfact1.js"
        </script>



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="dist/bootstrap-table.min.js"></script>

    <!-- Latest compiled and minified Locales -->
    <script src="/dist/locale/bootstrap-table-en-US.min.js"></script>
    
    <script src="js/tableExport.js"></script>
    <script src="js/tableExport.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-table-export.js"></script>
    

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    
  </body>
</html>
